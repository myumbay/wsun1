{% extends 'WsunBundle:Default:index.html.twig'%}

{% block bloque1 %}
<div class="box">
    <div class="panel panel-azul">
        <fieldset>
             <div class="panel-heading">
                <strong><span>Lista</span> de Empresas</strong>
            </div> 
            <div class="count">
                <span class="label label-primary">
               Total: {{ pagination.getTotalItemCount }}
                </span>
            </div><br/>

    <table class="table table-bordered">
        <tr>
            {# sorting of properties based on query components #}
            <th>{{ knp_pagination_sortable(pagination, 'N°', '') }}</th>
            <th>{{ knp_pagination_sortable(pagination, 'RUC', '') }}</th>
            {#<th{% if pagination.isSorted('e.nombreProducto') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'NOMBRE PRODUCTO', 'e.nombreProducto') }}#}
            </th>
            <th>{{ knp_pagination_sortable(pagination, 'NOMBRE EMPRESA', '') }}</th>
            <th>{{ knp_pagination_sortable(pagination, 'TELÉFONO', '') }}</th>
            <th>{{ knp_pagination_sortable(pagination, 'DIRECCIÓN', '') }}</th>
            <th>{{ knp_pagination_sortable(pagination, 'CORREO', '') }}</th>
            <th>{{ knp_pagination_sortable(pagination, 'ACCIONES', '') }}</th>
        </tr>
           
        {% set contador= 1%}
        {% for empresa in pagination %}
            <tr {% if loop.index is odd %}class="color"{% endif %}>
                <td>{{ contador }}</td>
{#                <td><a href="{{ path('empresa_show', { 'id': empresa.id }) }}">{{ empresa.id }}</a></td>#}
                <td>{{ empresa.ruc }}</td>
                <td>{{ empresa.nombreEmp }}</td>
                <td>{{ empresa.telefonoEmp }}</td>
                <td>{{ empresa.direccionEmp }}</td>
                <td>{{ empresa.email }}</td>
                
                   <td>
                    <div class="row">
                        <div class="col-md-3">
                         <a href= "{{ path('empresa_show', { 'id': empresa.id }) }}" class="btn btn-primary btn-sm">show</a>
                        </div>
                         <div class="col-sm-3">
                         <a href= "{{ path('empresa_edit', { 'id': empresa.id }) }}" class="btn btn-primary btn-sm">edit</a>
                        </div>
                        <div class="col-md-3">
                         <a href= "{{ path('admin_show_empresa_productos',{ 'id':empresa.id }) }}" class="btn btn-primary btn-sm">products</a>
                        </div>
                    </div>
                    </td> 
                                        
                </td>
            </tr>
            {% set contador= contador+1%}
        {% endfor %}        
  
</table>


            <a href="{{ path('empresa_new') }}"> <span class="glyphicon glyphicon-file"> Nuevo</span></a>
    </div> </div>       
{% endblock %}
{% block javascripts %}
   
    <script>    
    $('#btn1').on("click",function(){
        
    });
    </script>
    
{% endblock %}